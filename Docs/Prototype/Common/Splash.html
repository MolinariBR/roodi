<!DOCTYPE html>
<html class="dark" lang="pt-BR"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Roodi - Splash</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<link href="../design-system/tokens.css" rel="stylesheet"/>
<link href="../design-system/design.css" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script src="../design-system/tailwind-theme.js"></script>
</head>
<body class="bg-background-light dark:bg-black font-display text-slate-900 dark:text-white antialiased selection:bg-primary/30">
<div class="relative flex h-full min-h-screen w-full max-w-md mx-auto flex-col overflow-hidden bg-black shadow-2xl">
<div class="absolute inset-0 bg-black"></div>
<main class="relative z-10 flex flex-1 flex-col items-center justify-center px-8 pb-10 pt-16">
<div class="w-full max-w-xs flex flex-col items-center text-center">
<div class="relative mb-6">
<div class="absolute inset-0 rounded-3xl bg-primary/20 blur-xl animate-pulseSoft"></div>
<div class="relative h-24 w-24 rounded-3xl bg-gradient-to-br from-primary/25 to-blue-500/10 border border-primary/25 flex items-center justify-center">
<span class="material-symbols-outlined text-primary text-icon-2xl">bolt</span>
</div>
</div>
<h1 class="text-3xl font-bold tracking-brand text-white mb-2">ROODI</h1>
<p class="text-2xs-plus uppercase tracking-widest font-medium text-slate-400 mb-8">Conectando comercio e entregador</p>
<div class="w-full">
<div class="relative h-2 w-full overflow-hidden rounded-full bg-white/10 border border-white/10">
<div class="absolute inset-y-0 left-0 w-1/3 rounded-full bg-gradient-to-r from-primary to-blue-500 animate-loadingMove"></div>
</div>
<div class="mt-3 text-2xs uppercase tracking-wider text-slate-400 font-semibold">Carregando aplicacao...</div>
</div>
</div>
<div class="mt-8 text-2xs uppercase tracking-widest text-slate-500 font-semibold">v1.0.0</div>
<section class="hidden mt-4 w-full max-w-xs rounded-xl border border-white/10 bg-black/50 p-3 text-left" id="splashDebugPanel">
<p class="text-2xs uppercase tracking-widest text-amber-300 font-semibold">Debug mode</p>
<p class="mt-1 text-2xs text-slate-400">Use apenas para teste local.</p>
<div class="mt-2 space-y-2 text-2xs text-slate-300">
<p>Maintenance: <span class="font-bold text-white" id="debugMaintenanceState">OFF</span></p>
<p>Onboarding: <span class="font-bold text-white" id="debugOnboardingState">PENDING</span></p>
<p>Next route: <span class="font-bold text-primary" id="debugNextRoute">./01Onboarding.html</span></p>
</div>
<div class="mt-3 grid grid-cols-10 gap-2">
<button class="col-span-5 ds-auth-social-btn !min-h-0 py-2 text-2xs" id="debugToggleMaintenanceBtn" type="button">Toggle maintenance</button>
<button class="col-span-5 ds-auth-social-btn !min-h-0 py-2 text-2xs" id="debugToggleOnboardingBtn" type="button">Toggle onboarding</button>
<button class="col-span-10 ds-auth-submit-btn !min-h-0 py-2 text-2xs" id="debugContinueBtn" type="button">Continuar</button>
</div>
</section>
</main>
</div>
<script>
      (function () {
        const ONBOARDING_KEY = 'roodi_onboarding_done';
        const MAINTENANCE_KEY = 'roodi_maintenance_mode';
        const debugPanel = document.getElementById('splashDebugPanel');
        const debugMaintenanceState = document.getElementById('debugMaintenanceState');
        const debugOnboardingState = document.getElementById('debugOnboardingState');
        const debugNextRoute = document.getElementById('debugNextRoute');
        const debugToggleMaintenanceBtn = document.getElementById('debugToggleMaintenanceBtn');
        const debugToggleOnboardingBtn = document.getElementById('debugToggleOnboardingBtn');
        const debugContinueBtn = document.getElementById('debugContinueBtn');
        const debugMode = new URLSearchParams(window.location.search).get('debug') === '1';

        function getFlag(key) {
          try {
            return window.localStorage.getItem(key) === 'true';
          } catch (error) {
            return false;
          }
        }

        function setFlag(key, value) {
          try {
            window.localStorage.setItem(key, value ? 'true' : 'false');
          } catch (error) {}
        }

        function hasCompletedOnboarding() {
          return getFlag(ONBOARDING_KEY);
        }

        function isMaintenanceMode() {
          return getFlag(MAINTENANCE_KEY);
        }

        function nextRoute() {
          if (isMaintenanceMode()) return './Mantenance.html';
          return hasCompletedOnboarding() ? './Login.html' : './01Onboarding.html';
        }

        function renderDebugState() {
          if (!debugPanel || !debugMaintenanceState || !debugOnboardingState || !debugNextRoute) return;
          debugMaintenanceState.textContent = isMaintenanceMode() ? 'ON' : 'OFF';
          debugOnboardingState.textContent = hasCompletedOnboarding() ? 'DONE' : 'PENDING';
          debugNextRoute.textContent = nextRoute();
        }

        function setupDebugPanel() {
          if (!debugPanel || !debugToggleMaintenanceBtn || !debugToggleOnboardingBtn || !debugContinueBtn) return false;
          debugPanel.classList.remove('hidden');
          renderDebugState();

          debugToggleMaintenanceBtn.addEventListener('click', () => {
            setFlag(MAINTENANCE_KEY, !isMaintenanceMode());
            renderDebugState();
          });

          debugToggleOnboardingBtn.addEventListener('click', () => {
            setFlag(ONBOARDING_KEY, !hasCompletedOnboarding());
            renderDebugState();
          });

          debugContinueBtn.addEventListener('click', () => {
            window.location.replace(nextRoute());
          });

          return true;
        }

        if (debugMode && setupDebugPanel()) return;

        window.setTimeout(() => {
          window.location.replace(nextRoute());
        }, 1400);
      })();
    </script>
</body></html>
